(function(e){function t(t){for(var r,i,s=t[0],u=t[1],c=t[2],d=0,m=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&m.push(a[i][0]),a[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(m.length)m.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==a[u]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},o=[];function i(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"dbf181cf"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var o,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=i(e);var c=new Error;o=function(t){u.onerror=u.onload=null,clearTimeout(d);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",c.name="ChunkLoadError",c.type=r,c.request=o,n[1](c)}a[e]=void 0}};var d=setTimeout((function(){o({type:"timeout",target:u})}),12e4);u.onerror=u.onload=o,document.head.appendChild(u)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("85ec"),a=n.n(r);a.a},"0771":function(e,t,n){"use strict";var r=n("a71a"),a=n.n(r);a.a},"32a6":function(e,t,n){"use strict";var r=n("5a46"),a=n.n(r);a.a},3738:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view")},o=[],i={name:"App"},s=i,u=(n("034f"),n("2877")),c=Object(u["a"])(s,a,o,!1,null,null,null),d=c.exports,l=(n("d3b7"),n("8c4f")),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e._m(0),n("div",{attrs:{id:"login-form"}},[n("div",{attrs:{id:"login-input-container"}},[n("label",{attrs:{for:"name",id:"input-label"}},[e._v("Email‎‎‎‎‎‎‎‎‎‎‎")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",name:"email",id:"login-input",maxlength:"60",size:"20"},domProps:{value:e.email},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.target.nextElementSibling.focus()},input:function(t){t.target.composing||(e.email=t.target.value)}}})]),n("div",{attrs:{id:"login-input-container"}},[n("label",{attrs:{for:"password",id:"input-label"}},[e._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",name:"password",id:"login-input",maxlength:"20",size:"20"},domProps:{value:e.password},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)},input:function(t){t.target.composing||(e.password=t.target.value)}}})]),n("div",{attrs:{id:"login-buttons"}},[e.signUp?n("div",[n("button",{attrs:{id:"login-button"},on:{click:e.create}},[e._v("+")]),e._v(" submit "),n("div",[n("button",{attrs:{id:"login-button"},on:{click:function(t){e.signUp=!e.signUp}}},[e._v("<")]),e._v(" go back ")])]):e._e(),e.signUp?e._e():n("div",[e.createdAccount?e._e():n("button",{attrs:{id:"login-button"},on:{click:function(t){e.signUp=!e.signUp}}},[e._v(" + ")]),e.createdAccount?e._e():n("p",[e._v("create account")]),n("div",[n("button",{attrs:{id:"login-button"},on:{click:e.login}},[e._v(">")]),e._v(" login ")])]),e.signUp?e._e():n("div",{attrs:{id:"create-account"}})]),e.response?n("div",{attrs:{id:"account-created"},on:{click:function(t){e.response=""}}},[e._v(" Account created successfully! "),n("button",{attrs:{id:"ok-button"}},[e._v("x")])]):e._e(),e.errorMessage&&!e.response?n("div",{attrs:{id:"error"},on:{click:function(t){e.errorMessage=""}}},[e._v(" "+e._s(e.errorMessage)+" "),n("button",{attrs:{id:"ok-button"}},[e._v("x")])]):e._e()]),n("footer",{attrs:{id:"made-by-me"}},[e._v("Made with ❤️ by Dallas Carraher")])])},p=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"title-container"}},[n("a",{attrs:{href:"/"}},[n("header",{attrs:{id:"title"}})])])}],f=n("8aa5"),v=n.n(f),h=n("10b3"),g=n.n(h),b={name:"Home",components:{},data:function(){return{signUp:!1,email:"",password:"",errorMessage:"",response:"",createdAccount:!1,userId:""}},mounted:function(){this.checkIfLoggedIn();var e={strings:[".markdown"],typeSpeed:100,showCursor:!1};new g.a("#title",e)},methods:{checkIfLoggedIn:function(){var e=localStorage.getItem("uid");e?console.log("currently logged in as: ".concat(e,".")):console.log("not logged in."),e&&(this.userId=e,this.navigate())},create:function(){var e=this;v.a.auth().createUserWithEmailAndPassword(this.email,this.password).then((function(t){t&&(e.response=t,e.errorMessage="",e.createdAccount=!0,e.signUp=!1)})).catch((function(t){e.errorMessage=t.message}))},login:function(){var e=this;v.a.auth().signInWithEmailAndPassword(this.email,this.password).then((function(t){e.$store.commit("setUser",t.user),e.checkIfLoggedIn()})).catch((function(t){e.errorMessage=t.message}))},navigate:function(){this.userId&&this.$router.push({name:"explorer",params:{userId:this.userId}})}}},w=b,x=(n("908e"),Object(u["a"])(w,m,p,!1,null,"79484d2d",null)),_=x.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"explorer"}},[n("Header",{attrs:{title:"explorer",previous:"home",signOutOption:""}}),n("div",{attrs:{id:"documents"}},e._l(e.files,(function(t){return n("div",{key:t.data().uid,on:{click:function(n){return e.openDoc(t.id)}}},[n("div",{attrs:{id:"file-title"}},[e._v(e._s(t.data().title))]),n("br"),t.data().uid?e._e():n("div",{attrs:{id:"plus"}},[e._v("+")]),t.data().text?n("div",{attrs:{id:"preview"}},[e._v("Preview:")]):e._e(),t.data().text?n("div",[e._v(e._s(t.data().text.substr(0,50)))]):e._e()])})),0),e.loading?n("div",{attrs:{id:"loading-container"}},[e._v(" Loading Documents "),n("div",{staticClass:"lds-dual-ring"})]):e._e()],1)},y=[],I=(n("99af"),n("4160"),n("159b"),n("2909")),O=(n("96cf"),n("1da1")),j=(n("e71f"),{apiKey:"".concat("AIzaSyCVZoxOxrLiWhV0-0YJmeFl9NUeDVAVp38"),authDomain:"".concat("markdown-3fb03.firebaseapp.com"),databaseURL:"".concat("https://markdown-3fb03.firebaseio.com"),projectId:"".concat("markdown-3fb03"),storageBucket:"".concat("markdown-3fb03.appspot.com"),messagingSenderId:"".concat("385241134040"),appId:"".concat("1:385241134040:web:c8d78f0019fbdaa36db8ad"),measurementId:"".concat("G-GFGE2RXJNY")}),S=v.a.initializeApp(j),T=S.firestore(),E=n("e1bd"),P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{attrs:{id:"header"}},[n("h2",{attrs:{id:"title"},on:{mouseover:function(t){e.previousPage&&(e.headerTitle="← "+e.previousPage)},mouseout:function(t){e.headerTitle=e.title},click:e.navigate}},[e._v(" "+e._s(e.headerTitle)+" ")]),e.signOutOption?n("h2",{attrs:{id:"sign-out"},on:{click:e.signOut}},[e._v(" sign out ")]):e._e()])},M=[],A={name:"Header",components:{},props:{title:String,previous:String,signOutOption:Boolean},data:function(){return{headerTitle:this.title,previousPage:this.previous}},methods:{navigate:function(){"home"===this.previousPage&&this.signOut();var e=localStorage.getItem("uid");e&&this.$router.push({name:this.previousPage,params:{userId:e}})},signOut:function(){localStorage.removeItem("uid"),this.$router.push({name:"home"})}}},R=A,D=(n("0771"),Object(u["a"])(R,P,M,!1,null,"5e2af32d",null)),$=D.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"toolbar"}},[n("button",{attrs:{id:"toolbar-button"},on:{click:e.save}},[e._v("Save")]),n("button",{attrs:{id:"toolbar-button"},on:{click:e.rename}},[e._v("Rename")]),this.renameMode?n("input",{directives:[{name:"model",rawName:"v-model",value:e.renameText,expression:"renameText"}],ref:"rename",attrs:{id:"rename-text",type:"text",maxlength:"30"},domProps:{value:e.renameText},on:{input:function(t){t.target.composing||(e.renameText=t.target.value)}}}):e._e(),""!==this.renameText?n("button",{attrs:{id:"submit-rename"},on:{click:e.submitRename}},[e._v("✔")]):e._e(),n("div",{attrs:{id:"doc-title"}},[this.title?n("h3",[e._v("Document Name: "+e._s(this.title))]):e._e()])]),n("div",{attrs:{id:"editor"}},[n("textarea",{style:{fontSize:e.fontSize+"px"},attrs:{id:"raw",autofocus:""},domProps:{value:e.text},on:{input:e.compile}}),e._v(" "),n("div",{attrs:{id:"compiled"},domProps:{innerHTML:e._s(e.compiledMarkdown)}})])])},L=[],H=(n("a9e3"),n("0e54")),N=n.n(H),z=n("2ef0"),C={name:"Editor",components:{},props:{documentId:String,fontSize:Number},data:function(){return{id:1e5,title:"",owner:"None",savedAt:null,text:"# start editing",documentRef:null,autoSaveRef:null,renameMode:!1,renameText:""}},computed:{compiledMarkdown:function(){return N()(this.text,{sanitize:!0})}},created:function(){this.text="# Loading...",this.fetchData()},beforeUnmount:function(){},methods:{fetchData:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.collection("files").doc(e.documentId);case 3:return n=t.sent,e.documentRef=n,t.next=7,n.get().then((function(t){e.loadData({id:t.id,title:t.data().title,owner:t.data().owner,savedAt:t.data().savedAt,text:t.data().text})}));case 7:t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),console.error(t.t0),e.text="# failed to fetch your file";case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},loadData:function(e){this.id=e.id,this.title=e.title,this.owner=e.owner,this.savedAt=e.savedAtl,this.text=e.text},compile:Object(z["debounce"])((function(e){this.text=e.target.value}),0),save:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!e.documentRef){t.next=4;break}return t.next=4,e.documentRef.update({title:e.title,text:e.text,savedAt:v.a.firestore.FieldValue.serverTimestamp()});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.error(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},rename:function(){var e=this;this.renameMode=!this.renameMode,this.renameMode?this.$nextTick((function(){return e.$refs.rename.focus()})):this.renameText=""},submitRename:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.title=e.renameText,e.rename(),t.next=4,e.save();case 4:return t.next=6,e.fetchData();case 6:case"end":return t.stop()}}),t)})))()}}},V=C,F=(n("32a6"),Object(u["a"])(V,U,L,!1,null,"1b172a8e",null)),J=F.exports,q={name:"Explorer",components:{Header:$},props:{userId:String},data:function(){return{loading:!1,files:[]}},mounted:function(){var e=this;this.checkIfLoggedIn(),this.loading=!0,this.query(),setTimeout((function(){e.loading=!1}),1e3)},updated:function(){this.checkIfLoggedIn()},methods:{query:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=[],t.next=3,T.collection("files").where("owner","==",e.userId).get().then((function(e){e.forEach((function(e){n.push(e)}))})).catch((function(e){console.error("Error getting documents: ",e),this.loading=!1}));case 3:e.files.push({data:function(){return{title:"New Document"}}}),e.files=[].concat(Object(I["a"])(e.files),n);case 5:case"end":return t.stop()}}),t)})))()},addDocument:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(E["a"])(),t.next=3,T.collection("files").doc(n).set({owner:e.userId,savedAt:v.a.firestore.FieldValue.serverTimestamp(),text:"",title:"newDoc-".concat(n),uid:n});case 3:e.openDoc(n);case 4:case"end":return t.stop()}}),t)})))()},openDoc:function(e){e?this.$router.push({name:"markdown",params:{documentId:e}}):this.addDocument()},checkIfLoggedIn:function(){var e=localStorage.getItem("uid");e||this.backToHome()},backToHome:function(){this.$router.push({name:"Home"})}}},G=q,W=(n("7bec"),Object(u["a"])(G,k,y,!1,null,"7786849c",null)),B=W.exports,Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Header",{attrs:{title:".markdown",previous:"explorer"}}),n("Editor",{attrs:{documentId:e.documentId}})],1)},K=[],X={name:"Markdown",components:{Header:$,Editor:J},data:function(){return{documentId:this.$route.params.documentId}}},Z=X,Q=(n("9589"),Object(u["a"])(Z,Y,K,!1,null,"697a0a40",null)),ee=Q.exports;r["a"].use(l["a"]);var te=[{path:"/",name:"home",component:_},{path:"/explorer/:userId",name:"explorer",component:B,props:!0},{path:"/markdown/:documentId",name:"markdown",component:ee},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],ne=new l["a"]({mode:"history",base:"/",routes:te}),re=ne,ae=n("2f62");r["a"].use(ae["a"]);var oe=new ae["a"].Store({state:{user:{uid:"",email:""}},mutations:{setUser:function(e,t){e.user.uid=t.uid,e.user.email=t.email,localStorage.setItem("uid",t.uid)}},actions:{},modules:{},getters:{getUser:function(e){return e.user}}});r["a"].config.productionTip=!1,new r["a"]({router:re,store:oe,render:function(e){return e(d)}}).$mount("#app")},"5a46":function(e,t,n){},"5e3f":function(e,t,n){},"7bec":function(e,t,n){"use strict";var r=n("dfb9"),a=n.n(r);a.a},"85ec":function(e,t,n){},"908e":function(e,t,n){"use strict";var r=n("5e3f"),a=n.n(r);a.a},9589:function(e,t,n){"use strict";var r=n("3738"),a=n.n(r);a.a},a71a:function(e,t,n){},dfb9:function(e,t,n){}});
//# sourceMappingURL=app.1e612404.js.map